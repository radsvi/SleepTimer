<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:models="clr-namespace:SleepTimer.Models"
             xmlns:viewModels="clr-namespace:SleepTimer.ViewModels"
             x:Class="SleepTimer.Views.SleepLogsPage"
             x:DataType="viewModels:SleepLogsVM"
             Title="Sleep Logs">
    <AbsoluteLayout Margin="5">
        <Button
            AbsoluteLayout.LayoutBounds="0,0,1,AutoSize" AbsoluteLayout.LayoutFlags="WidthProportional"
            Text="Clear Logs" Command="{Binding LogsHandler.ClearCommand}" />

        <CollectionView
            AbsoluteLayout.LayoutBounds="0,55,1,1" AbsoluteLayout.LayoutFlags="SizeProportional"
            SelectionMode="None" ItemsSource="{Binding AppPreferences.LogEntries}" EmptyView="No log entries">
            <CollectionView.ItemTemplate>
                <DataTemplate x:DataType="models:LogEntry">
                    <HorizontalStackLayout Margin="5,0">
                        <Label Text="{Binding Date, StringFormat='{0:MM/dd/yyyy HH:mm:ss}'}" WidthRequest="145" />
                        <Label Text="{Binding Text}" />
                    </HorizontalStackLayout>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </AbsoluteLayout>

</ContentPage>